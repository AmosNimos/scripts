#!/bin/bash
# takes image input, puts clock in the center and renders output.
if [ -z "$1" ]; then 
	echo "usage: 
	$(basename $0) src [dest]"
	exit
fi
if [ ! -r "$1" ]; then
	echo "$1 not found"
	exit 1
fi
src="$1"
dest="${2:-output.jpg}"
convert \
	"$src" \
	-geometry 1920:1080 \
	-gravity center \
	-fill '#00000066' \
	-draw 'circle  +960+540 960,695' \
	-draw 'circle  +960+540 960,715' \
	-pointsize 50 \
	-weight bold \
	-interline-spacing 30 \
	-fill "#ffffff66" \
	-annotate +0+0 "$(clock|tr ' ' '\n')" \
	"$dest"
